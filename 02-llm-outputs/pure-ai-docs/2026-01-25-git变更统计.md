# 我需要查看一下每次 git 的变更行数

## Bash 命令输出 1

```bash
cd "D:\Program Files (x86)\Steam\steamapps\common\Don't Starve Together\mods\MoreItems" && git log --oneline --stat 54342634..HEAD
```

### 输出结果：

```text
e895388 docs: 添加 6.0.4 版本更新日志和项目文档
 .gitignore                                         | 10 +++-
 README.md                                          | 63 ++++++++++++++++++++++
 UPDATELOGS.md                                      | 48 +++++++++++++++++
 "232\264\346\226\260\346\227\245\345\277\227.md" | 61 +++++++++++++++++++++
 4 files changed, 181 insertions(+), 1 deletion(-)

274efda feat: 添加强san素食堡
 modinfo.lua                                        |   1 +
 modmain.lua                                        |   1 +
 modmain/PostInit/prefabs/mone_sanity_hamburger.lua |  48 +++++
 modmain/init/init_tooltips.lua                     |   7 +
 modmain/recipes.lua                                |  22 +++
 modmain/shard_sync.lua                             |  10 +
 modtuning.lua                                      |   1 +
 scripts/components/mone_sanity_hamburger.lua       | 208 +++++++++++++++++++++
 scripts/components/mone_shard_sync.lua             |  69 +++++++
 scripts/languages/mone/loc.lua                     |   5 +
 scripts/more_items_constants.lua                   |   9 +
 scripts/moreitems/lib/shard/sync_rpc.lua           |  26 +++
 scripts/prefabs/mone/union/food_defs.lua           |  37 ++++
 13 files changed, 444 insertions(+)

cb31f7c debug: 添加文件写入验证和详细日志
 scripts/components/mone_shard_sync.lua | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

308dee7 fix: RPC 接收时直接更新玩家的 PersistentString 文件
 scripts/components/mone_lifeinjector_vb.lua        | 42 ----------------------
 scripts/components/mone_shard_sync.lua             | 23 +++++++++---
 scripts/components/mone_stomach_warming_hamburger.lua  | 28 ---------------
 3 files changed, 19 insertions(+), 74 deletions(-)

e617c15 fix: 修复继承逻辑中未使用世界组件最新数据的问题
 scripts/components/mone_lifeinjector_vb.lua           | 16 ++++++++++++++++
 scripts/components/mone_stomach_warming_hamburger.lua | 16 ++++++++++++++++
 2 files changed, 32 insertions(+)

6ebc186 debug: 添加 OnLoad 详细日志来诊断数据同步问题
 scripts/components/mone_lifeinjector_vb.lua | 26 ++++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

aaa1f40 fix: 修复 Shard RPC 参数传递错误
 modmain/shard_sync.lua                   | 15 ++++++++-------
 scripts/moreitems/lib/shard/sync_rpc.lua |  2 ++
 2 files changed, 10 insertions(+), 7 deletions(-)

85c3179 debug: 添加 Shard RPC 详细调试日志
 modmain/shard_sync.lua                   | 22 +++++++++++++++++-----
 scripts/moreitems/lib/shard/sync_rpc.lua | 26 ++++++++++++++++++++++----
 2 files changed, 39 insertions(+), 9 deletions(-)

5e6f924 fix: 修复洞穴数据未同步到地面的持久化问题
 scripts/components/mone_lifeinjector_vb.lua        | 14 +++-
 scripts/components/mone_shard_sync.lua             | 89 ++++++++++++++++++++++
 scripts/components/mone_stomach_warming_hamburger.lua  | 14 +++-
 3 files changed, 111 insertions(+), 6 deletions(-)

418595c fix: 修复 Shard RPC 调用参数错误
 modmain/shard_sync.lua                   | 23 +++++++++++------------
 scripts/moreitems/lib/shard/sync_rpc.lua | 15 ++++++---------
 2 files changed, 17 insertions(+), 21 deletions(-)

2d2b33a fix: 修复 mone_shard_sync 组件未找到的错误
 modmain/shard_sync.lua                 | 74 ++-------------------------------
 scripts/components/mone_shard_sync.lua | 76 ++++++++++++++++++++++++++++++++++
 2 files changed, 79 insertions(+), 71 deletions(-)

e124d25 feat: 实现 Mod RPC 跨服务器数据同步
 modmain.lua                                        |   1 +
 modmain/shard_sync.lua                             | 112 +++++++++++++++++++++
 scripts/components/mone_lifeinjector_vb.lua        |  44 +++++---
 scripts/components/mone_stomach_warming_hamburger.lua  |  30 +++++-
 scripts/moreitems/lib/shard/sync_rpc.lua           |  80 +++++++++++++++
 5 files changed, 249 insertions(+), 18 deletions(-)

18b3540 fix(persistence): 修复洞穴服务器 filename 为 nil 导致的崩溃
 scripts/components/mone_lifeinjector_vb.lua           | 8 +++++++-
 scripts/components/mone_stomach_warming_hamburger.lua | 8 +++++++-
 2 files changed, 14 insertions(+), 2 deletions(-)

58668ff fix(persistence): 统一在主服务器存储汉堡数据，避免上下洞分离
 scripts/components/mone_lifeinjector_vb.lua        | 56 ++++++----------------
 scripts/components/mone_stomach_warming_hamburger.lua  | 13 +++--
 2 files changed, 25 insertions(+), 44 deletions(-)

0fb37fa fix(inheritance): 修复强心素食堡和暖胃汉堡包未吃时也会继承的bug
 scripts/components/mone_lifeinjector_vb.lua           | 8 +++++++-
 scripts/components/mone_stomach_warming_hamburger.lua | 8 +++++++-
 2 files changed, 14 insertions(+), 2 deletions(-)
```

## Bash 命令输出 2

```bash
cd "D:\Program Files (x86)\Steam\steamapps\common\Don't Starve Together\mods\MoreItems" && git log --oneline --stat 54342634^..HEAD
```

### 输出结果：

（包含上述所有提交，加上以下额外的提交）

```text
5434263 feat(hamburger): 为暖胃汉堡包添加换人继承饥饿度功能
 modinfo.lua                                        |  12 ++-
 modmain/PostInit/prefabs/mone_stomach_warming_hamburger.lua     |  69 +++++++------
 modtuning.lua                                      |   1 +
 scripts/components/mone_stomach_warming_hamburger.lua  | 112 +++++++++++++++++++--
 scripts/more_items_constants.lua                   |   9 ++
 5 files changed, 168 insertions(+), 35 deletions(-)
```

## 统计分析

### 每次提交的变更统计：

1.  **e895388** docs: 添加 6.0.4 版本更新日志和项目文档 +181 -1
    
2.  **274efda** feat: 添加强san素食堡 +444
    
3.  **cb31f7c** debug: 添加文件写入验证和详细日志 +14 -3
    
4.  **308dee7** fix: RPC 接收时直接更新玩家的 PersistentString 文件 +19 -74
    
5.  **e617c15** fix: 修复继承逻辑中未使用世界组件最新数据的问题 +32
    
6.  **6ebc186** debug: 添加 OnLoad 详细日志来诊断数据同步问题 +20 -6
    
7.  **aaa1f40** fix: 修复 Shard RPC 参数传递错误 +10 -7
    
8.  **85c3179** debug: 添加 Shard RPC 详细调试日志 +39 -9
    
9.  **5e6f924** fix: 修复洞穴数据未同步到地面的持久化问题 +111 -6
    
10.  **418595c** fix: 修复 Shard RPC 调用参数错误 +17 -21
    
11.  **2d2b33a** fix: 修复 mone\_shard\_sync 组件未找到的错误 +79 -71
    
12.  **e124d25** feat: 实现 Mod RPC 跨服务器数据同步 +249 -18
    
13.  **18b3540** fix: 修复洞穴服务器 filename 为 nil 导致的崩溃 +14 -2
    
14.  **58668ff** fix: 统一在主服务器存储汉堡数据 +25 -44
    
15.  **0fb37fa** fix: 修复未吃时也会继承的bug +14 -2
    
16.  **5434263** feat: 暖胃汉堡包换人继承饥饿度功能 +168 -35
    

---

### 总计

-   **新增**: 1436 行
    
-   **删除**: 299 行
    

---

*记录时间: 2026-01-25 12:23 AM分析工具: glm-4.7*